"use strict";(self.webpackChunkmirrorGame=self.webpackChunkmirrorGame||[]).push([[778],{3778:(A,m,l)=>{l.r(m),l.d(m,{AuthModule:()=>k});var p=l(6895),r=l(433),u=l(529),c=l(2517),a=l(2340),e=l(8256);let d=(()=>{class o{constructor(t){this.http=t}login(t){return this.http.post(`${a.N.baseUrl}/api/users/login`,t)}signup(t){return this.http.post(`${a.N.baseUrl}/api/users/register`,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(u.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),g=(()=>{class o{constructor(t,i,s){this.fb=t,this.service=i,this.router=s}createForm(){this.form=this.fb.group({email:[null,r.kI.required],password:[null,r.kI.required]})}ngOnInit(){this.createForm()}login(){this.service.login(this.form.value).subscribe({next:t=>{this.handelSuccess(t)}})}SignupWithGoogle(){window.open(`${a.N.baseUrl}/auth/google/callback`,"_self")}handelSuccess(t){localStorage.setItem("token",t.token),this.router.navigate(["/rooms",t.id])}routeToSignup(){this.router.navigateByUrl("auth/signup")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(d),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6","mb-3"],["src","assets/Mirror_Logo.png","alt","Phone image",1,"img-fluid",2,"border-radius","30px"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],[3,"formGroup"],[1,"form-outline","mb-4"],["for","Email address",1,"form-label"],["type","email","name","Email address","placeholder","Email address","formControlName","email",1,"form-control","form-control-lg"],["for","Password",1,"form-label"],["type","password","name","Password","placeholder","Password","formControlName","password",1,"form-control","form-control-lg"],[1,"btn","btn-dark","btn-lg","btn-block",3,"disabled","click"],[1,"text-center","m-3"],[1,"signup-btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"form",6)(7,"div",7)(8,"label",8),e._uU(9,"Email address"),e.qZA(),e._UZ(10,"input",9),e.qZA(),e.TgZ(11,"div",7)(12,"label",10),e._uU(13,"Password"),e.qZA(),e._UZ(14,"input",11),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return i.login()}),e._uU(16," Sign in "),e.qZA(),e.TgZ(17,"div",13),e._uU(18," Not a member? "),e.TgZ(19,"button",14),e.NdJ("click",function(){return i.routeToSignup()}),e._uU(20,"Signup"),e.qZA()()()()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(9),e.Q6J("disabled",!i.form.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".signup-btn[_ngcontent-%COMP%]{background:none;border:none;padding:0;font:inherit;color:#00f;text-decoration:underline;cursor:pointer}"]}),o})();let h=(()=>{class o{constructor(t,i,s){this.fb=t,this.service=i,this.router=s}createForm(){this.form=this.fb.group({email:[null,[r.kI.required,r.kI.email]],name:[null,r.kI.required],password:[null,r.kI.required]})}ngOnInit(){this.createForm()}signup(){this.service.signup(this.form.value).subscribe({next:()=>this.handelSuccess()})}SignupWithGoogle(){window.open("https://mirror-game.onrender.com/auth/google/callback","_self")}handelSuccess(){this.router.navigateByUrl("/auth/login")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(d),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-signup"]],decls:21,vars:2,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6","mb-3"],["src","assets/Mirror_Logo.png","alt","Phone image",1,"img-fluid",2,"border-radius","30px"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],[3,"formGroup"],[1,"form-outline","mb-4"],["for","Name",1,"form-label"],["type","text","name","Name","placeholder","Name","formControlName","name",1,"form-control","form-control-lg"],["for","Email address",1,"form-label"],["type","email","name","Email address","placeholder","Email address","formControlName","email",1,"form-control","form-control-lg"],["for","Password",1,"form-label"],["type","password","name","Password","placeholder","Password","formControlName","password",1,"form-control","form-control-lg"],[1,"btn","btn-dark","btn-lg","btn-block",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"form",6)(7,"div",7)(8,"label",8),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",9),e.qZA(),e.TgZ(11,"div",7)(12,"label",10),e._uU(13,"Email address"),e.qZA(),e._UZ(14,"input",11),e.qZA(),e.TgZ(15,"div",7)(16,"label",12),e._uU(17,"Password"),e.qZA(),e._UZ(18,"input",13),e.qZA(),e.TgZ(19,"button",14),e.NdJ("click",function(){return i.signup()}),e._uU(20," Sign up "),e.qZA()()()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(13),e.Q6J("disabled",!i.form.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:['.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}']}),o})(),b=(()=>{class o{constructor(t){this.http=t}checkRedirect(){return this.http.get(`${a.N.baseUrl}/auth/login/success`,{withCredentials:!0})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(u.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const v=[{path:"login",component:g},{path:"signup",component:h},{path:"redirect",component:(()=>{class o{constructor(t,i){this.service=t,this.router=i}ngOnInit(){this.checkRedirect()}checkRedirect(){this.service.checkRedirect().subscribe({next:t=>{localStorage.setItem("token",t.token),this.router.navigate(["/rooms",t.user.id])}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-redirect"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"redirect works!"),e.qZA())}}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(v),c.Bz]}),o})(),k=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z,r.u5,r.UX,u.JF,p.ez]}),o})()}}]);