"use strict";(self.webpackChunkmirrorGame=self.webpackChunkmirrorGame||[]).push([[778],{3778:(A,m,l)=>{l.r(m),l.d(m,{AuthModule:()=>k});var p=l(6895),r=l(433),u=l(529),s=l(2517),a=l(2340),e=l(8256);let d=(()=>{class t{constructor(o){this.http=o}login(o){return this.http.post(`${a.N.baseUrl}/api/users/login`,o)}signup(o){return this.http.post(`${a.N.baseUrl}/api/users/register`,o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(u.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t{constructor(o,i,c){this.fb=o,this.service=i,this.router=c}createForm(){this.form=this.fb.group({email:[null,r.kI.required],password:[null,r.kI.required]})}ngOnInit(){this.createForm()}login(){this.service.login(this.form.value).subscribe({next:o=>{this.handelSuccess(o)}})}SignupWithGoogle(){window.open(`${a.N.baseUrl}/auth/google/callback`,"_self")}handelSuccess(o){localStorage.setItem("token",o.token),this.router.navigate(["/rooms",o.id])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(d),e.Y36(s.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:31,vars:2,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6","mb-3"],["src","src/assets/Mirror_Logo.png","alt","Phone image",1,"img-fluid",2,"border-radius","30px"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],[3,"formGroup"],[1,"form-outline","mb-4"],["for","form1Example13",1,"form-label"],["type","email","placeholder","Email address","formControlName","email",1,"form-control","form-control-lg"],["for","form1Example23",1,"form-label"],["type","password","placeholder","Password","formControlName","password",1,"form-control","form-control-lg"],[1,"d-flex","mb-4"],["href","#!"],[1,"btn","btn-dark","btn-lg","btn-block",3,"disabled","click"],[1,"text-center","m-3"],["href","auth/signup"],[1,"divider","d-flex","align-items-center","my-4"],[1,"text-center","fw-bold","mx-3","mb-0","text-muted"],["role","button",1,"btn","btn-primary","btn-lg","btn-block","d-block","mb-3",2,"background-color","#dd4b39",3,"click"],[1,"fab","fa-facebook-f","me-2"]],template:function(o,i){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"form",6)(7,"div",7)(8,"label",8),e._uU(9,"Email address"),e.qZA(),e._UZ(10,"input",9),e.qZA(),e.TgZ(11,"div",7)(12,"label",10),e._uU(13,"Password"),e.qZA(),e._UZ(14,"input",11),e.qZA(),e.TgZ(15,"div",12)(16,"a",13),e._uU(17,"Forgot password?"),e.qZA()(),e.TgZ(18,"button",14),e.NdJ("click",function(){return i.login()}),e._uU(19," Sign in "),e.qZA(),e.TgZ(20,"div",15)(21,"p"),e._uU(22,"Not a member? "),e.TgZ(23,"a",16),e._uU(24,"Signup"),e.qZA()()(),e.TgZ(25,"div",17)(26,"p",18),e._uU(27,"OR"),e.qZA()(),e.TgZ(28,"a",19),e.NdJ("click",function(){return i.SignupWithGoogle()}),e._UZ(29,"i",20),e._uU(30," Continue with Google "),e.qZA()()()()()()),2&o&&(e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(12),e.Q6J("disabled",!i.form.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:['.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}']}),t})();let h=(()=>{class t{constructor(o,i,c){this.fb=o,this.service=i,this.router=c}createForm(){this.form=this.fb.group({email:[null,[r.kI.required,r.kI.email]],name:[null,r.kI.required],password:[null,r.kI.required]})}ngOnInit(){this.createForm()}signup(){this.service.signup(this.form.value).subscribe({next:()=>this.handelSuccess()})}SignupWithGoogle(){window.open("http://localhost:8080/auth/google/callback","_self")}handelSuccess(){this.router.navigateByUrl("/auth/login")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(d),e.Y36(s.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup"]],decls:27,vars:2,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6","mb-3"],["src","src/assets/Mirror_Logo.png","alt","Phone image",1,"img-fluid",2,"border-radius","30px"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],[3,"formGroup"],[1,"form-outline","mb-4"],["for","form1Example13",1,"form-label"],["type","text","placeholder","Name","formControlName","name",1,"form-control","form-control-lg"],["type","email","placeholder","Email address","formControlName","email",1,"form-control","form-control-lg"],["for","form1Example23",1,"form-label"],["type","password","placeholder","Password","formControlName","password",1,"form-control","form-control-lg"],[1,"btn","btn-dark","btn-lg","btn-block",3,"disabled","click"],[1,"divider","d-flex","align-items-center","my-4"],[1,"text-center","fw-bold","mx-3","mb-0","text-muted"],["role","button",1,"btn","btn-primary","btn-lg","btn-block","d-block",2,"background-color","#dd4b39",3,"click"],[1,"fab","fa-facebook-f","me-2"]],template:function(o,i){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"form",6)(7,"div",7)(8,"label",8),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",9),e.qZA(),e.TgZ(11,"div",7)(12,"label",8),e._uU(13,"Email address"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",7)(16,"label",11),e._uU(17,"Password"),e.qZA(),e._UZ(18,"input",12),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return i.signup()}),e._uU(20," Sign up "),e.qZA(),e.TgZ(21,"div",14)(22,"p",15),e._uU(23,"OR"),e.qZA()(),e.TgZ(24,"a",16),e.NdJ("click",function(){return i.SignupWithGoogle()}),e._UZ(25,"i",17),e._uU(26,"Sign up with Google "),e.qZA()()()()()()),2&o&&(e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(13),e.Q6J("disabled",!i.form.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:['.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}']}),t})(),b=(()=>{class t{constructor(o){this.http=o}checkRedirect(){return this.http.get(`${a.N.baseUrl}/auth/login/success`,{withCredentials:!0})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(u.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const v=[{path:"login",component:g},{path:"signup",component:h},{path:"redirect",component:(()=>{class t{constructor(o,i){this.service=o,this.router=i}ngOnInit(){this.checkRedirect()}checkRedirect(){this.service.checkRedirect().subscribe({next:o=>{localStorage.setItem("token",o.token),this.router.navigate(["/rooms",o.user.id])}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(b),e.Y36(s.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-redirect"]],decls:2,vars:0,template:function(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"redirect works!"),e.qZA())}}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(v),s.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Z,r.u5,r.UX,u.JF,p.ez]}),t})()}}]);